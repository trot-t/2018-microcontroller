\documentclass[a4paper,11pt]{article}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, russian]{babel}
\usepackage{tikz}
\usepackage[european,cuteinductors,smartlabels]{circuitikz} 

% Конец преамбулы
\begin{document}
\section{Контравариантные координаты -- управление} 
\begin{tikzpicture}[scale=0.8]
\newcommand{\D}{8}
\newcommand{\vx}{5}
\newcommand{\vy}{2}
	\draw[thick] (0,0) node[below left] {{\Huge${\bf m_1}$}} -- ({\D},0) node[below right] {{\Huge${\bf m_2}$}} -- ({\D/2},{\D*sqrt(3)/2}) node[above=8] {{\Huge${\bf m_3}$}} -- (0,0);
%	\draw[red,thick,->,>=stealth'] (0,0) -- ({\vx}, {\vy}) node(v) {};
	\draw[dashed, thin] ({\vx}, {\vy}) -- ({\vx},0) node[below=-0.07cm] {$S_3$}; % на ось фазы A
	\draw[thin] ({\vy/tan(60)} ,{\vy}) --  ({\vx}, {\vy}) -- ({\D - \vy/tan(60)},{\vy}) node[midway, below right=-0.05cm] {$m_1$};
	\draw[thin] ({\vx-\vy/tan(60)},0 ) -- (\vx,\vy); 
	\draw[thin] ({\vx + \vy/tan(60)},0) -- (\vx,\vy) -- ({(\vx + \vy/tan(60))/2}, {(\vx + \vy/tan(60))*sqrt(3)/2} ); % контравариантная на ось фазы C
	\draw[thin] ({\D/2 + (\vx-\vy/tan(60))/2}, {\D*sqrt(3)/2 - (\vx-\vy/tan(60))*sqrt(3)/2}) -- (\vx,\vy) node[midway, above=0.25cm] {$m_1$}; % контравариантная на ось фазы B || [1-3]
	\newcommand{\xx}{(\vx/2+\vy*sqrt(3)/2)} % скалярное исходного вектора с осью (-С)
	\draw[dashed, thin] ({\vx},{\vy}) --({\xx/2},{\xx*sqrt(3)/2}) node[above left=-0.1cm] {$S_2$}; % перпендикуляр на ось фазы C
	\newcommand{\zz}{(\vx/2-\vy*sqrt(3)/2)} % скалярное исходного вектора с осью (-B) 
	\draw[dashed, thin] ({\vx},{\vy}) -- ({\D*3/4  + \zz/2},{\D*sqrt(3)/4 - \zz*sqrt(3)/2}) ;%node[above right=-0.1cm] {$S_1$}; 
        % сам вектор
	\draw[red,very thick,->,>=stealth'] (0,0) -- ({\vx}, {\vy}) node(v) {};
	\draw ({\vx}, {\vy})  node[above=0.25cm] {$O$};

	% подписи внизу
	\draw[very thin] (0,-0.1) -- (0,-1.5); 
	\draw ({\vx + \vy/tan(60)},-0.1) -- ({\vx + \vy/tan(60)},-0.8); \draw (\D,-0.1) -- (\D,-1.5);
	\draw[very thin,<->,>=stealth'] (0,-0.5) --  ({\vx + \vy/tan(60)}, -0.5) node[midway, below] {$m_2+m_3$};
	\draw[very thin,<->,>=stealth']  ({\vx + \vy/tan(60)}, -0.4) -- (\D, -0.4) node[midway, below] {$m_1$};
	\draw[very thin]  ({\vx - \vy/tan(60)}, -1.0) -- ({\vx - \vy/tan(60)}, -1.5);
	\draw[very thin,<->,>=stealth']  (0,-1.2) --  ({\vx - \vy/tan(60)}, -1.2) node[midway, below] {$m_2$};
	\draw[very thin,<->,>=stealth'] ({\vx - \vy/tan(60)}, -1.3) -- (\D, -1.3) node[midway, below] {$m_1+m_3$};

        % подписи справа
	\draw[very thin] ({\D + 0.1*sqrt(3)/2}, {0 + 0.1/2}) -- ({\D + 0.8*sqrt(3)/2}, {0 + 0.8/2});
	\draw[very thin] ({\D - \vy/tan(60) + 0.1*sqrt(3)/2} ,{\vy + 0.1/2}) -- ({\D - \vy/tan(60) + 0.8*sqrt(3)/2},{\vy + 0.8/2});
	\draw[very thin,<->,>=stealth'] ({\D + 0.5*sqrt(3)/2}, {0 + 0.5/2}) -- ({\D - \vy/tan(60) + 0.5*sqrt(3)/2} ,{\vy + 0.5/2}) node[midway, above right] {$m_3$};
        \draw[very thin] ({\D/2 + (\vx-\vy/tan(60))/2 + 0.1*sqrt(3)/2}, {\D*sqrt(3)/2 - (\vx-\vy/tan(60))*sqrt(3)/2 + 0.1/2}) --
	                  ({\D/2 + (\vx-\vy/tan(60))/2 + 0.8*sqrt(3)/2}, {\D*sqrt(3)/2 - (\vx-\vy/tan(60))*sqrt(3)/2 + 0.8/2});
	\draw[very thin,<->,>=stealth'] ({\D - \vy/tan(60) + 0.65*sqrt(3)/2} ,{\vy + 0.65/2}) -- 
	                                ({\D/2 + (\vx-\vy/tan(60))/2 + 0.65*sqrt(3)/2}, {\D*sqrt(3)/2 - (\vx-\vy/tan(60))*sqrt(3)/2 + 0.65/2}) node[midway, above right] {$m_1$};
	\draw[very thin] ({\D/2 + 0.1*sqrt(3)/2},{\D*sqrt(3)/2 + 0.1/2}) -- ({\D/2 + 0.8*sqrt(3)/2},{\D*sqrt(3)/2 + 0.8/2});
	\draw[very thin,<->,>=stealth'] ({\D/2 + 0.55*sqrt(3)/2} ,{\D*sqrt(3)/2 + 0.55/2}) --
	                                ({\D/2 + (\vx-\vy/tan(60))/2 + 0.55*sqrt(3)/2}, {\D*sqrt(3)/2 - (\vx-\vy/tan(60))*sqrt(3)/2 + 0.55/2}) node[midway, above right] {$m_2$};
	%подписи слева
	\draw[very thin] ({0 - 0.1*sqrt(3)/2}, {0 + 0.1/2}) -- ({0 - 0.8*sqrt(3)/2}, {0 + 0.8/2}); 
	\draw[very thin] ({\vy/tan(60) - 0.1*sqrt(3)/2} ,{\vy + 0.1/2}) -- ({\vy/tan(60) - 0.8*sqrt(3)/2} ,{\vy + 0.8/2});
	\draw[very thin,<->,>=stealth'] ({0 - 0.75*sqrt(3)/2}, {0 + 0.75/2}) -- ({\vy/tan(60) - 0.75*sqrt(3)/2} ,{\vy + 0.75/2}) node[midway, above left] {$m_3$}; 
	\draw[very thin] ({(\vx + \vy/tan(60))/2 - 0.1*sqrt(3)/2}, {(\vx + \vy/tan(60))*sqrt(3)/2 + 0.1/2}) -- 
	                 ({(\vx + \vy/tan(60))/2 - 0.8*sqrt(3)/2}, {(\vx + \vy/tan(60))*sqrt(3)/2 + 0.8/2});
	\draw[very thin,<->,>=stealth'] ({\vy/tan(60) - 0.7*sqrt(3)/2} ,{\vy + 0.7/2}) --
	                                ({(\vx + \vy/tan(60))/2 - 0.7*sqrt(3)/2}, {(\vx + \vy/tan(60))*sqrt(3)/2 + 0.7/2}) node[midway, above left] {$m_2$};
	\draw[very thin] ({\D/2 - 0.1*sqrt(3)/2},{\D*sqrt(3)/2 + 0.1/2}) --  ({\D/2 - 0.8*sqrt(3)/2},{\D*sqrt(3)/2 + 0.8/2});
	\draw[very thin,<->,>=stealth']  ({(\vx + \vy/tan(60))/2 - 0.5*sqrt(3)/2}, {(\vx + \vy/tan(60))*sqrt(3)/2 + 0.5/2}) --
	                                 ({\D/2 - 0.5*sqrt(3)/2},{\D*sqrt(3)/2 + 0.5/2}) node[midway, above left] {$m_1$};

	\draw[ultra thin] ({-0.7*cos(-60)},{-0.7*sin(-60)}) -- ({1.2*cos(-60)},{1.2*sin(-60)});
	\newcommand{\bb}{(\vx*cos(-60) + \vy*sin(-60))}
	\draw[dashed, thin] ({\vx}, {\vy})  -- ({\bb*cos(-60)},{\bb*sin(-60)}) node[below left=-0.18cm] {$S_1$};

	% в симметричном режиме можно упростить 
	\newcommand{\sss}{(\vx-\vy/tan(60))*sqrt(3)/2}
	\draw[ultra thin ,<-,>=stealth'] ({\xx/2 + \sss*cos(-30)/2 + 0.1*cos(40)}, {(\xx*sqrt(3)/2 + \sss*sin(-30)/2 + 0.1*sin(40)}) -- 
			                 ({\xx/2 + \sss*cos(-30)/2 + 4.5*cos(40)}, {(\xx*sqrt(3)/2 + \sss*sin(-30)/2 + 4.5*sin(40)}) node[above right=-0.15cm] {$m_2\frac{\sqrt{3}}{2}=\;\mid\!OS_2\!\mid$};
	\draw[ultra thin, <-,>=stealth'] ({\vx + 0.1*cos(20)},{0.4*\vy+ 0.1*sin(20)}) -- 
	                                 ({\vx + 3.5*cos(20)},{0.4*\vy + 3.5*sin(20)}) node[above right=-0.15cm] {$m_3\frac{\sqrt{3}}{2}=\;\mid\!OS_3\!\mid$};
	% опустим перпендикуляр на ось фазы A
	\draw[dotted] ({\xx/2},{\xx*sqrt(3)/2}) -- ({\xx/2}, 0);
\end{tikzpicture} 

\noindentКовариантная координата равна полусумме контравариантных координат:
$$
\vec{S}_3 = \frac{m_2 + (m_2 + m_3)}{2} \vec{e}_a
$$
$$
\vec{S}_2 = -\frac{m_3 + (m_2 + m_3)}{2} \vec{e}_c
$$ 
%причем 
$$
m_1+m_2+m_3 = 1
$$
Опустим перпендикуляр с точки $S_2$ на горизонтальную ось, тогда:
$$
\frac{\left(S_3 - \frac{S_2}{2}\right)}{\sqrt{3}/2} = m_2\frac{\sqrt{3}}{2} \;\Rightarrow\; S_3 - \frac{S_2}{2} = \frac{3}{4}m_2 
$$
аналогично:
$$
\frac{\left(S_2 - \frac{S_3}{2}\right)}{\sqrt{3}/2} = m_3\frac{\sqrt{3}}{2} \;\Rightarrow\; S_2 - \frac{S_3}{2} = \frac{3}{4}m_3 
$$ 

Выразим $m_k$ через $S_k$: 
\begin{equation}
        \left\{
        \begin{array}{lcl}
                m_2 &=& {\displaystyle \frac{4}{3}\left(S_3 - \frac{S_2}{2}\right)} \\
                m_3 &=& {\displaystyle \frac{4}{3}\left(S_2 - \frac{S_3}{2}\right)} \\
                m_1 &=& {\displaystyle 1 - \frac{2}{3}\left(S_2 + S_3\right)} \\
%                1 &=& m_1+m_2+m_3 \\
        \end{array}
        \right.
\end{equation}




\end{document}
